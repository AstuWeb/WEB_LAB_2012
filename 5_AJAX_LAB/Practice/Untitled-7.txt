package deadlock.d1;
import java.util.random;
import java.util.concurrent.locks.lock;
import java.util.concurrent.locks.ReenterantLock;

public class DeadLockExamle{
private Account acc1=new Account();
private Account acc2=new Account();

//private Locck lock1=new ReenterantLock();
//private Lock lock2=new ReenterantLock();


public void firstThread() throws IntrruptedException{
    Random rand=new Random();
    for(int i=0;i<10000;i++){
      //  lock1.lock();
       // lock2.lock();
       // try{
            Account.transfer(acc1,acc2,rand.nextInt(100));
        //}
        finally{
//lock1.unlock();
//lock2.unlock();
        //}
    }
}

public void secondThread throws IntrruptedException{
    Random rand=new Random();
    for(int i=0;i<10000;i++){
       // try{
            Account.transfer(acc2,acc1,rand.nextInt(100));
       // }
       // finally{

       // }
    }
}

public void finished(){
    System.ot.println("Account 1 balance ::"+acc1.getBalance());
    System.out.println("Account 2 balance"+acc2.getBalance();
    System.out.println("Total Amount"+(acc1.getBalance()+acc2.getBalance());

}
}
<html>

<head>
    <meta charset="utf-8">
    <style>
    
    .heading{
        display:block;
        width:100%;
        border:1px solid black;
        color:#fff;
        padding:10px;
    }
    div>p{
        font-size:0.8em;
        color:#111;
        padding:20px;
        background-color:#ddd;
    }
    </style>
</head>

<body>
    <h1>AJAX Tester</h1>
    <div id="output">
        URL: <input type="text" name="url" value="https://reqres.in/api/users/2"></div>

    <div> <input type="button" name="sender" value="make Request" name="send"></div>
</body>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        document.querySelector('input[name="sender"]').addEventListener('click', makeRequest);

    })

    function makeRequest() {
        var url = document.querySelector('input[name="url"]').value;
        ajaxJS(url);


    }
    function ajaxJS(url) {
        console.log("Worked");

        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function () {
            if (xhr.readyState == 4 && xhr.status == 200) {
                // console.log(xhr.responseText);
                output(xhr.responseText, xhr.status, 'Javascript  Response');
            }
        }
        xhr.open('GET', url, true);
        xhr.send();
    }
    function output(responseText, status, xhr) {
        // console.log("no connection but output funbction get Called");
        var output = document.getElementById('#output');
        responseText = (typeof (responseText) == 'string') ? JSON.parse(responseText) : responseText;
        console.log(responseText);
        output.innerHTML = '<div><span class="heading"Response Text</span></p>' + JSON.stringify(responseText) + '</p></div>';
        output.innerHTML = '<div><span class="heading"Status</span></p>' + JSON.stringify(status) + '</p></div>';
        output.innerHTML = '<div><span class="heading"Response</span></p>' + JSON.stringify(hxr) + '</p></div>';


    }
</script>

</html>